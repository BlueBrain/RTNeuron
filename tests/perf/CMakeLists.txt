##
## RTNeuron
##
## Copyright (c) 2006-2016 Cajal Blue Brain, BBP/EPFL
## All rights reserved. Do not distribute without permission.
##
## Responsible Author: Juan Hernando Vieites (JHV)
## contact: jhernando@fi.upm.es

if(NOT CUDA_FOUND)
  return()
endif()

include_directories(${PROJECT_SOURCE_DIR}/rtneuron/rtneuron)

# These tests depends on data files that need to be generated by hand using
# the osgTransparency::writeTextures, so it's not compiled by default.

set(FRAGMENT_OPERATIONS_SOURCES fragment_operations.cpp)
set(FRAGMENT_OPERATIONS_LINK_LIBRARIES
  rtneuron_cuda ${OPENSCENEGRAPH_LIBRARIES})
common_application(fragment_operations)

if(TARGET hwsd AND OsgGL3_FOUND AND CUDA_FOUND)
  # This is only built with superproject builds because it's for developement
  # purposes and we don't want to include hwsd as a top level dependency.
  set(PARALLEL_COMPOSITING_SOURCES parallel_compositing.cpp)
  set(PARALLEL_COMPOSITING_LINK_LIBRARIES
    rtneuron_core rtneuron_cuda Equalizer Collage Lunchbox
    ${OPENSCENEGRAPH_LIBRARIES} hwsd hwsd_net_dns_sd hwsd_net_sys
    ${Boost_FILESYSTEM_LIBRARY} ${Boost_SYSTEM_LIBRARY} ${CUDA_LIBRARIES})
  common_application(parallel_compositing)
endif()
